<div class="prop-element">

    <div class="prop-row">
        <div class="prop-row-child ng-class:[{'col-xs-8': (c.mode !== c.mds.COLLAPSED)},{'col-xs-10': (c.mode === c.mds.COLLAPSED)},{'col-sm-7': (c.mode !== c.mds.COLLAPSED)},{'col-sm-11': (c.mode === c.mds.COLLAPSED)},{'col-md-9': (c.mode !== c.mds.COLLAPSED)},{'col-md-11': (c.mode === c.mds.COLLAPSED)}]">
            <p class="prop-text-header"><b>{{c.typeText(proposal.proposalType)}}</b>&nbsp;&nbsp;<span ng-if="!c.isUser">{{proposal.personName}}:</span>
                <span ng-if="c.isUser" class="glyphicon glyphicon-user"></span>&nbsp;&nbsp;&nbsp;<span ng-if="(c.mode === c.mds.COLLAPSED)"
                class="animate-if" ng-bind-html="proposal.text"></span></p>
            <!--<span ng-if="c.isUser" class="glyphicon glyphicon-user"></span>-->
        </div>
        <div class="prop-row-child text-right ng-class:[{'col-xs-4': (c.mode !== c.mds.COLLAPSED)},{'col-xs-2': (c.mode === c.mds.COLLAPSED)},{'col-sm-5': (c.mode !== c.mds.COLLAPSED)},{'col-sm-1': (c.mode === c.mds.COLLAPSED)},{'col-md-3': (c.mode !== c.mds.COLLAPSED)},{'col-md-1': (c.mode === c.mds.COLLAPSED)}]">
            <label ng-if="c.mode === c.mds.OPEN && !c.isPublished" role="button" class="btn btn-primary btn-md animate-if" aria-expanded="false"
            ng-click="c.startEditing()">
                <span class="glyphicon glyphicon-edit"></span>
            </label>
            <label ng-if="c.mode === c.mds.EDITOR" role="button" class="btn btn-primary btn-md animate-if" aria-expanded="false" ng-click="c.endEditing()">
                <span class="glyphicon glyphicon-ok-circle"></span>
            </label>
            <label ng-if="c.mode === c.mds.EDITOR" role="button" class="btn btn-primary btn-md animate-if" aria-expanded="false" ng-click="c.cancelEditing()">
                <span class="glyphicon glyphicon-remove-circle"></span>
            </label>
            <label ng-if="c.mode === c.mds.OPEN && c.isUser && c.editedText.length" role="button" class="btn btn-primary btn-md animate-if"
            aria-expanded="false" ng-click="c.deleteProposal()">
                <span class="glyphicon glyphicon-remove-sign"></span>
            </label>
            <label ng-if="c.mode === c.mds.OPEN && !c.isPublished && c.editedText.length" role="button" class="btn btn-primary btn-md animate-if"
            aria-expanded="false" ng-click="c.shareProposal()">
                <span class="glyphicon glyphicon-share"></span>
            </label>
            <label ng-if="c.mode === c.mds.COLLAPSED" role="button" class="btn btn-primary btn-md animate-if" aria-expanded="false" ng-click="c.open()">
                <span class="glyphicon glyphicon-collapse-down"></span>
            </label>
            <label ng-if="c.mode === c.mds.OPEN" role="button" class="btn btn-primary btn-md animate-if" aria-expanded="false" ng-click="c.collapse()">
                <span class="glyphicon glyphicon-collapse-up"></span>
            </label>
        </div>
    </div>

    <div uib-collapse="c.mode !== c.mds.OPEN">
        <div class="row">
            <div class="col-xs-12">
                <div class="prop-text" ng-bind-html="proposal.text | unsafe"></div>
            </div>

        </div>
    </div>

    <div uib-collapse="c.mode !== c.mds.EDITOR">
        <div class="row">
            <div class="col-xs-12">
                <wysiwyg textarea-class="form-control" textarea-height="auto" enable-bootstrap-title="true" textarea-required ng-model="c.editedText"
                textarea-menu="c.editor.menu">
                </wysiwyg>
            </div>

        </div>
    </div>

</div>
